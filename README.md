# Reproducible test case for akka-grpc#1014

This is a reproducible test case for https://github.com/akka/akka-grpc/issues/1014

Run the tests with:
```
bash sbt.sh test
```

The output is:
```
‚ùØ bash sbt.sh test
[info] welcome to sbt 1.3.12 (AdoptOpenJDK Java 1.8.0_232)
[info] loading settings for project akka-grpc-1014-build from plugins.sbt ...
[info] loading project definition from /mnt/c/Users/chka1/Projekte/akka-grpc-1014/project
[info] loading settings for project play-scala-grpc-example from build.sbt ...
[info] set current project to akka-grpc-1014 (in build file:/mnt/c/Users/chka1/Projekte/akka-grpc-1014/)
[info] Compiling 12 Scala sources to /mnt/c/Users/chka1/Projekte/akka-grpc-1014/target/scala-2.13/classes ...
[warn] /mnt/c/Users/chka1/Projekte/akka-grpc-1014/target/scala-2.13/src_managed/main/hello/grpc/foo/FooServiceClient.scala:36:91: [deprecation @ hello.grpc.foo.DefaultFooServiceClient.clientState | origin=akka.stream.ActorMaterializer | version=2.6.0] class ActorMaterializer in package stream is deprecated (since 2.6.0): The Materializer now has all methods the ActorMaterializer used to have
[warn]   private val clientState = new ClientState(settings, akka.event.Logging(mat.asInstanceOf[ActorMaterializer].system, this.getClass))
[warn]                                                                                           ^
[warn] one warning found
[info] Compiling 2 Scala sources to /mnt/c/Users/chka1/Projekte/akka-grpc-1014/target/scala-2.13/test-classes ...
[warn] javaOptions will be ignored, fork is set to false
[info] ASpec
[info] Total for specification ASpec
[info] Finished in 132 ms
[info] 0 example, 0 failure, 0 error
[info] a.e.s.Slf4jLogger - Slf4jLogger started
[info] FooSpec
[info] A Play server bound to a gRPC router should
[error]   ! work with a gRPC client
[error]    com.google.inject.ProvisionException: Unable to provision, see the following errors:
[error]
[error]    1) Error injecting constructor, java.lang.ExceptionInInitializerError
[error]      at routers.FooRouter.<init>(FooRouter.scala:10)
[error]      while locating routers.FooRouter
[error]        for the 2nd parameter of router.Routes.<init>(Routes.scala:25)
[error]      while locating router.Routes
[error]      while locating play.api.inject.RoutesProvider
[error]      while locating play.api.routing.Router
[error]        for the 3rd parameter of play.api.http.JavaCompatibleHttpRequestHandler.<init>(HttpRequestHandler.scala:299)
[error]      while locating play.api.http.JavaCompatibleHttpRequestHandler
[error]      while locating play.api.http.HttpRequestHandler
[error]        for the 6th parameter of play.api.DefaultApplication.<init>(Application.scala:178)
[error]      at play.api.DefaultApplication.class(Application.scala:177)
[error]      while locating play.api.DefaultApplication
[error]      while locating play.api.Application
[error]
[error]    1 error (InternalProvisionException.java:226)
[error] com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:226)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1053)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)
[error] play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)
[error] play.api.test.ApplicationFactories$$anon$1.create(ApplicationFactory.scala:28)
[error] play.api.test.ForServer.foreach(Specs.scala:92)
[error] play.api.test.ForServer.foreach$(Specs.scala:91)
[error] test.FooSpec.foreach(FooSpec.scala:8)
[error] hello.grpc.foo.AbstractFooServiceRouter.<init>(AbstractRouter.scala:21)
[error] routers.FooRouter.<init>(FooRouter.scala:10)
[error] routers.FooRouter$$FastClassByGuice$$89d3d4eb.newInstance(<generated>)
[error] com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$3(Injector.scala:120)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:120)
[error] play.api.inject.RoutesProvider.$anonfun$get$2(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get$lzycompute(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:114)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:108)
[error] com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)
[error] com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:77)
[error] com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:59)
[error] com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:61)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
[error] com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)
[error] com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)
[error] play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)
[error] play.api.test.ApplicationFactories$$anon$1.create(ApplicationFactory.scala:28)
[error] play.api.test.ForServer.foreach(Specs.scala:92)
[error] play.api.test.ForServer.foreach$(Specs.scala:91)
[error] test.FooSpec.foreach(FooSpec.scala:8)
[error] akka.http.scaladsl.model.HttpEntity$Strict.isKnownEmpty(HttpEntity.scala:334)
[error] akka.http.scaladsl.model.HttpResponse.<init>(HttpMessage.scala:457)
[error] akka.http.scaladsl.model.HttpResponse$.apply(HttpMessage.scala:529)
[error] hello.grpc.foo.FooServiceHandler$.<clinit>(FooServiceHandler.scala:24)
[error] hello.grpc.foo.AbstractFooServiceRouter.<init>(AbstractRouter.scala:21)
[error] routers.FooRouter.<init>(FooRouter.scala:10)
[error] routers.FooRouter$$FastClassByGuice$$89d3d4eb.newInstance(<generated>)
[error] com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$3(Injector.scala:120)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:120)
[error] play.api.inject.RoutesProvider.$anonfun$get$2(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get$lzycompute(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:114)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:108)
[error] com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)
[error] com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:77)
[error] com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:59)
[error] com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:61)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
[error] com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)
[error] com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)
[error] play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)
[error] play.api.test.ApplicationFactories$$anon$1.create(ApplicationFactory.scala:28)
[error] play.api.test.ForServer.foreach(Specs.scala:92)
[error] play.api.test.ForServer.foreach$(Specs.scala:91)
[error] test.FooSpec.foreach(FooSpec.scala:8)
[error] CAUSED BY
[error]  java.lang.ExceptionInInitializerError: null (AbstractRouter.scala:21)
[error] hello.grpc.foo.AbstractFooServiceRouter.<init>(AbstractRouter.scala:21)
[error] routers.FooRouter.<init>(FooRouter.scala:10)
[error] routers.FooRouter$$FastClassByGuice$$89d3d4eb.newInstance(<generated>)
[error] com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$3(Injector.scala:120)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:120)
[error] play.api.inject.RoutesProvider.$anonfun$get$2(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get$lzycompute(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:114)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:108)
[error] com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)
[error] com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:77)
[error] com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:59)
[error] com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:61)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
[error] com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)
[error] com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)
[error] play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)
[error] play.api.test.ApplicationFactories$$anon$1.create(ApplicationFactory.scala:28)
[error] play.api.test.ForServer.foreach(Specs.scala:92)
[error] play.api.test.ForServer.foreach$(Specs.scala:91)
[error] test.FooSpec.foreach(FooSpec.scala:8)
[error] akka.http.scaladsl.model.HttpEntity$Strict.isKnownEmpty(HttpEntity.scala:334)
[error] akka.http.scaladsl.model.HttpResponse.<init>(HttpMessage.scala:457)
[error] akka.http.scaladsl.model.HttpResponse$.apply(HttpMessage.scala:529)
[error] hello.grpc.foo.FooServiceHandler$.<clinit>(FooServiceHandler.scala:24)
[error] hello.grpc.foo.AbstractFooServiceRouter.<init>(AbstractRouter.scala:21)
[error] routers.FooRouter.<init>(FooRouter.scala:10)
[error] routers.FooRouter$$FastClassByGuice$$89d3d4eb.newInstance(<generated>)
[error] com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$3(Injector.scala:120)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:120)
[error] play.api.inject.RoutesProvider.$anonfun$get$2(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get$lzycompute(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:114)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:108)
[error] com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)
[error] com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:77)
[error] com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:59)
[error] com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:61)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
[error] com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)
[error] com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)
[error] play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)
[error] play.api.test.ApplicationFactories$$anon$1.create(ApplicationFactory.scala:28)
[error] play.api.test.ForServer.foreach(Specs.scala:92)
[error] play.api.test.ForServer.foreach$(Specs.scala:91)
[error] test.FooSpec.foreach(FooSpec.scala:8)
[error] CAUSED BY
[error]  java.lang.NullPointerException: null (HttpEntity.scala:334)
[error] akka.http.scaladsl.model.HttpEntity$Strict.isKnownEmpty(HttpEntity.scala:334)
[error] akka.http.scaladsl.model.HttpResponse.<init>(HttpMessage.scala:457)
[error] akka.http.scaladsl.model.HttpResponse$.apply(HttpMessage.scala:529)
[error] hello.grpc.foo.FooServiceHandler$.<clinit>(FooServiceHandler.scala:24)
[error] hello.grpc.foo.AbstractFooServiceRouter.<init>(AbstractRouter.scala:21)
[error] routers.FooRouter.<init>(FooRouter.scala:10)
[error] routers.FooRouter$$FastClassByGuice$$89d3d4eb.newInstance(<generated>)
[error] com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$3(Injector.scala:120)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:120)
[error] play.api.inject.RoutesProvider.$anonfun$get$2(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get$lzycompute(BuiltinModule.scala:119)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:114)
[error] play.api.inject.RoutesProvider.get(BuiltinModule.scala:108)
[error] com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)
[error] com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:77)
[error] com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:59)
[error] com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:61)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:42)
[error] com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:65)
[error] com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)
[error] com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)
[error] com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)
[error] com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
[error] com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)
[error] com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)
[error] com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)
[error] com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)
[error] com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)
[error] play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)
[error] play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)
[error] play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)
[error] play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)
[error] play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)
[error] play.api.test.ApplicationFactories$$anon$1.create(ApplicationFactory.scala:28)
[error] play.api.test.ForServer.foreach(Specs.scala:92)
[error] play.api.test.ForServer.foreach$(Specs.scala:91)
[error] test.FooSpec.foreach(FooSpec.scala:8)
[info] Total for specification FooSpec
[info] Finished in 3 seconds, 761 ms
[info] 1 example, 0 failure, 1 error
[error] Error: Total 1, Failed 0, Errors 1, Passed 0
[error] Error during tests:
[error]         test.FooSpec
[error] (Test / test) sbt.TestsFailedException: Tests unsuccessful
[error] Total time: 17 s, completed Jun 16, 2020 11:14:28 AM
```

The problem is the call to:

```
val byteString = CompactByteString.apply("test".getBytes)
```

If this code runs for the gRPC test, then the `java.lang.NullPointerException: null (HttpEntity.scala:334)` occurs.
